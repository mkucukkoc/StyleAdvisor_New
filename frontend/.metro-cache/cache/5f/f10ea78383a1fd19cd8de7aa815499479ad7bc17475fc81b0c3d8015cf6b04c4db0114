{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":161},"end":{"line":5,"column":85,"index":246}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":247},"end":{"line":6,"column":69,"index":316}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"apiClient\", {\n    enumerable: true,\n    get: function () {\n      return apiClient;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // ============================================================\n  // StyleAdvisor AI - API Client\n  // ============================================================\n\n  const API_BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  class ApiClient {\n    isOffline = false;\n    constructor() {\n      this.client = axios.default.create({\n        baseURL: `${API_BASE_URL}/api`,\n        timeout: 30000,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      this.setupInterceptors();\n    }\n    setupInterceptors() {\n      // Request interceptor - add auth token\n      this.client.interceptors.request.use(async config => {\n        if (this.isOffline) {\n          throw new Error('OFFLINE');\n        }\n        const token = await AsyncStorage.default.getItem('styleadvisor-auth');\n        if (token) {\n          try {\n            const parsed = JSON.parse(token);\n            if (parsed.state?.token) {\n              config.headers.Authorization = `Bearer ${parsed.state.token}`;\n            }\n          } catch (e) {\n            // Token parsing failed\n          }\n        }\n        return config;\n      }, error => Promise.reject(error));\n\n      // Response interceptor - handle errors\n      this.client.interceptors.response.use(response => response, error => {\n        if (error.message === 'OFFLINE') {\n          return Promise.reject({\n            code: 'OFFLINE',\n            message: 'You are offline'\n          });\n        }\n        if (!error.response) {\n          return Promise.reject({\n            code: 'NETWORK_ERROR',\n            message: 'Network error. Please check your connection.'\n          });\n        }\n        const {\n          status,\n          data\n        } = error.response;\n        if (status === 401) {\n          // Token expired or invalid - could trigger logout here\n          return Promise.reject({\n            code: 'UNAUTHORIZED',\n            message: 'Please log in to continue.'\n          });\n        }\n        return Promise.reject(data || {\n          code: 'SERVER_ERROR',\n          message: 'Server error. Please try again later.'\n        });\n      });\n    }\n    setOfflineMode(offline) {\n      this.isOffline = offline;\n    }\n    async get(url, params) {\n      const response = await this.client.get(url, {\n        params\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async post(url, data) {\n      const response = await this.client.post(url, data);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async put(url, data) {\n      const response = await this.client.put(url, data);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async delete(url) {\n      const response = await this.client.delete(url);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n  }\n  const apiClient = new ApiClient();\n  var _default = apiClient;\n});","lineCount":133,"map":[[12,2,113,0,"Object"],[12,8,113,0],[12,9,113,0,"defineProperty"],[12,23,113,0],[12,24,113,0,"exports"],[12,31,113,0],[13,4,113,0,"enumerable"],[13,14,113,0],[14,4,113,0,"get"],[14,7,113,0],[14,18,113,0,"get"],[14,19,113,0],[15,6,113,0],[15,13,113,0,"_default"],[15,21,113,0],[16,4,113,0],[17,2,113,0],[18,2,112,0,"Object"],[18,8,112,0],[18,9,112,0,"defineProperty"],[18,23,112,0],[18,24,112,0,"exports"],[18,31,112,0],[19,4,112,0,"enumerable"],[19,14,112,0],[20,4,112,0,"get"],[20,7,112,0],[20,18,112,0,"get"],[20,19,112,0],[21,6,112,0],[21,13,112,0,"apiClient"],[21,22,112,0],[22,4,112,0],[23,2,112,0],[24,2,112,41],[24,6,112,41,"_expoVirtualEnv"],[24,21,112,41],[24,24,112,41,"require"],[24,31,112,41],[24,32,112,41,"_dependencyMap"],[24,46,112,41],[25,2,5,0],[25,6,5,0,"_axios"],[25,12,5,0],[25,15,5,0,"require"],[25,22,5,0],[25,23,5,0,"_dependencyMap"],[25,37,5,0],[26,2,5,0],[26,6,5,0,"axios"],[26,11,5,0],[26,14,5,0,"_interopDefault"],[26,29,5,0],[26,30,5,0,"_axios"],[26,36,5,0],[27,2,6,0],[27,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[27,42,6,0],[27,45,6,0,"require"],[27,52,6,0],[27,53,6,0,"_dependencyMap"],[27,67,6,0],[28,2,6,0],[28,6,6,0,"AsyncStorage"],[28,18,6,0],[28,21,6,0,"_interopDefault"],[28,36,6,0],[28,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[28,73,6,0],[29,2,1,0],[30,2,2,0],[31,2,3,0],[33,2,9,0],[33,8,9,6,"API_BASE_URL"],[33,20,9,18],[33,23,9,21,"_expoVirtualEnv"],[33,38,9,21],[33,39,9,21,"env"],[33,42,9,21],[33,43,9,21,"EXPO_PUBLIC_BACKEND_URL"],[33,66,9,21],[33,70,9,60],[33,93,9,83],[34,2,11,0],[34,8,11,6,"ApiClient"],[34,17,11,15],[34,18,11,16],[35,4,13,10,"isOffline"],[35,13,13,19],[35,16,13,31],[35,21,13,36],[36,4,15,2,"constructor"],[36,15,15,13,"constructor"],[36,16,15,13],[36,18,15,16],[37,6,16,4],[37,10,16,8],[37,11,16,9,"client"],[37,17,16,15],[37,20,16,18,"axios"],[37,25,16,23],[37,26,16,23,"default"],[37,33,16,23],[37,34,16,24,"create"],[37,40,16,30],[37,41,16,31],[38,8,17,6,"baseURL"],[38,15,17,13],[38,17,17,15],[38,20,17,18,"API_BASE_URL"],[38,32,17,30],[38,38,17,36],[39,8,18,6,"timeout"],[39,15,18,13],[39,17,18,15],[39,22,18,20],[40,8,19,6,"headers"],[40,15,19,13],[40,17,19,15],[41,10,20,8],[41,24,20,22],[41,26,20,24],[42,8,21,6],[43,6,22,4],[43,7,22,5],[43,8,22,6],[44,6,24,4],[44,10,24,8],[44,11,24,9,"setupInterceptors"],[44,28,24,26],[44,29,24,27],[44,30,24,28],[45,4,25,2],[46,4,27,10,"setupInterceptors"],[46,21,27,27,"setupInterceptors"],[46,22,27,27],[46,24,27,30],[47,6,28,4],[48,6,29,4],[48,10,29,8],[48,11,29,9,"client"],[48,17,29,15],[48,18,29,16,"interceptors"],[48,30,29,28],[48,31,29,29,"request"],[48,38,29,36],[48,39,29,37,"use"],[48,42,29,40],[48,43,30,6],[48,49,30,13,"config"],[48,55,30,47],[48,59,30,52],[49,8,31,8],[49,12,31,12],[49,16,31,16],[49,17,31,17,"isOffline"],[49,26,31,26],[49,28,31,28],[50,10,32,10],[50,16,32,16],[50,20,32,20,"Error"],[50,25,32,25],[50,26,32,26],[50,35,32,35],[50,36,32,36],[51,8,33,8],[52,8,35,8],[52,14,35,14,"token"],[52,19,35,19],[52,22,35,22],[52,28,35,28,"AsyncStorage"],[52,40,35,40],[52,41,35,40,"default"],[52,48,35,40],[52,49,35,41,"getItem"],[52,56,35,48],[52,57,35,49],[52,76,35,68],[52,77,35,69],[53,8,36,8],[53,12,36,12,"token"],[53,17,36,17],[53,19,36,19],[54,10,37,10],[54,14,37,14],[55,12,38,12],[55,18,38,18,"parsed"],[55,24,38,24],[55,27,38,27,"JSON"],[55,31,38,31],[55,32,38,32,"parse"],[55,37,38,37],[55,38,38,38,"token"],[55,43,38,43],[55,44,38,44],[56,12,39,12],[56,16,39,16,"parsed"],[56,22,39,22],[56,23,39,23,"state"],[56,28,39,28],[56,30,39,30,"token"],[56,35,39,35],[56,37,39,37],[57,14,40,14,"config"],[57,20,40,20],[57,21,40,21,"headers"],[57,28,40,28],[57,29,40,29,"Authorization"],[57,42,40,42],[57,45,40,45],[57,55,40,55,"parsed"],[57,61,40,61],[57,62,40,62,"state"],[57,67,40,67],[57,68,40,68,"token"],[57,73,40,73],[57,75,40,75],[58,12,41,12],[59,10,42,10],[59,11,42,11],[59,12,42,12],[59,19,42,19,"e"],[59,20,42,20],[59,22,42,22],[60,12,43,12],[61,10,43,12],[62,8,45,8],[63,8,46,8],[63,15,46,15,"config"],[63,21,46,21],[64,6,47,6],[64,7,47,7],[64,9,48,7,"error"],[64,14,48,12],[64,18,48,17,"Promise"],[64,25,48,24],[64,26,48,25,"reject"],[64,32,48,31],[64,33,48,32,"error"],[64,38,48,37],[64,39,49,4],[64,40,49,5],[66,6,51,4],[67,6,52,4],[67,10,52,8],[67,11,52,9,"client"],[67,17,52,15],[67,18,52,16,"interceptors"],[67,30,52,28],[67,31,52,29,"response"],[67,39,52,37],[67,40,52,38,"use"],[67,43,52,41],[67,44,53,7,"response"],[67,52,53,15],[67,56,53,20,"response"],[67,64,53,28],[67,66,54,7,"error"],[67,71,54,34],[67,75,54,39],[68,8,55,8],[68,12,55,12,"error"],[68,17,55,17],[68,18,55,18,"message"],[68,25,55,25],[68,30,55,30],[68,39,55,39],[68,41,55,41],[69,10,56,10],[69,17,56,17,"Promise"],[69,24,56,24],[69,25,56,25,"reject"],[69,31,56,31],[69,32,56,32],[70,12,57,12,"code"],[70,16,57,16],[70,18,57,18],[70,27,57,27],[71,12,58,12,"message"],[71,19,58,19],[71,21,58,21],[72,10,59,10],[72,11,59,11],[72,12,59,12],[73,8,60,8],[74,8,62,8],[74,12,62,12],[74,13,62,13,"error"],[74,18,62,18],[74,19,62,19,"response"],[74,27,62,27],[74,29,62,29],[75,10,63,10],[75,17,63,17,"Promise"],[75,24,63,24],[75,25,63,25,"reject"],[75,31,63,31],[75,32,63,32],[76,12,64,12,"code"],[76,16,64,16],[76,18,64,18],[76,33,64,33],[77,12,65,12,"message"],[77,19,65,19],[77,21,65,21],[78,10,66,10],[78,11,66,11],[78,12,66,12],[79,8,67,8],[80,8,69,8],[80,14,69,14],[81,10,69,16,"status"],[81,16,69,22],[82,10,69,24,"data"],[83,8,69,29],[83,9,69,30],[83,12,69,33,"error"],[83,17,69,38],[83,18,69,39,"response"],[83,26,69,47],[84,8,71,8],[84,12,71,12,"status"],[84,18,71,18],[84,23,71,23],[84,26,71,26],[84,28,71,28],[85,10,72,10],[86,10,73,10],[86,17,73,17,"Promise"],[86,24,73,24],[86,25,73,25,"reject"],[86,31,73,31],[86,32,73,32],[87,12,74,12,"code"],[87,16,74,16],[87,18,74,18],[87,32,74,32],[88,12,75,12,"message"],[88,19,75,19],[88,21,75,21],[89,10,76,10],[89,11,76,11],[89,12,76,12],[90,8,77,8],[91,8,79,8],[91,15,79,15,"Promise"],[91,22,79,22],[91,23,79,23,"reject"],[91,29,79,29],[91,30,79,30,"data"],[91,34,79,34],[91,38,79,38],[92,10,80,10,"code"],[92,14,80,14],[92,16,80,16],[92,30,80,30],[93,10,81,10,"message"],[93,17,81,17],[93,19,81,19],[94,8,82,8],[94,9,82,9],[94,10,82,10],[95,6,83,6],[95,7,84,4],[95,8,84,5],[96,4,85,2],[97,4,87,2,"setOfflineMode"],[97,18,87,16,"setOfflineMode"],[97,19,87,17,"offline"],[97,26,87,33],[97,28,87,35],[98,6,88,4],[98,10,88,8],[98,11,88,9,"isOffline"],[98,20,88,18],[98,23,88,21,"offline"],[98,30,88,28],[99,4,89,2],[100,4,91,2],[100,10,91,8,"get"],[100,13,91,11,"get"],[100,14,91,15,"url"],[100,17,91,26],[100,19,91,28,"params"],[100,25,91,60],[100,27,91,87],[101,6,92,4],[101,12,92,10,"response"],[101,20,92,18],[101,23,92,21],[101,29,92,27],[101,33,92,31],[101,34,92,32,"client"],[101,40,92,38],[101,41,92,39,"get"],[101,44,92,42],[101,45,92,46,"url"],[101,48,92,49],[101,50,92,51],[102,8,92,53,"params"],[103,6,92,60],[103,7,92,61],[103,8,92,62],[104,6,93,4],[104,13,93,11],[105,8,93,13,"success"],[105,15,93,20],[105,17,93,22],[105,21,93,26],[106,8,93,28,"data"],[106,12,93,32],[106,14,93,34,"response"],[106,22,93,42],[106,23,93,43,"data"],[107,6,93,48],[107,7,93,49],[108,4,94,2],[109,4,96,2],[109,10,96,8,"post"],[109,14,96,12,"post"],[109,15,96,16,"url"],[109,18,96,27],[109,20,96,29,"data"],[109,24,96,43],[109,26,96,70],[110,6,97,4],[110,12,97,10,"response"],[110,20,97,18],[110,23,97,21],[110,29,97,27],[110,33,97,31],[110,34,97,32,"client"],[110,40,97,38],[110,41,97,39,"post"],[110,45,97,43],[110,46,97,47,"url"],[110,49,97,50],[110,51,97,52,"data"],[110,55,97,56],[110,56,97,57],[111,6,98,4],[111,13,98,11],[112,8,98,13,"success"],[112,15,98,20],[112,17,98,22],[112,21,98,26],[113,8,98,28,"data"],[113,12,98,32],[113,14,98,34,"response"],[113,22,98,42],[113,23,98,43,"data"],[114,6,98,48],[114,7,98,49],[115,4,99,2],[116,4,101,2],[116,10,101,8,"put"],[116,13,101,11,"put"],[116,14,101,15,"url"],[116,17,101,26],[116,19,101,28,"data"],[116,23,101,42],[116,25,101,69],[117,6,102,4],[117,12,102,10,"response"],[117,20,102,18],[117,23,102,21],[117,29,102,27],[117,33,102,31],[117,34,102,32,"client"],[117,40,102,38],[117,41,102,39,"put"],[117,44,102,42],[117,45,102,46,"url"],[117,48,102,49],[117,50,102,51,"data"],[117,54,102,55],[117,55,102,56],[118,6,103,4],[118,13,103,11],[119,8,103,13,"success"],[119,15,103,20],[119,17,103,22],[119,21,103,26],[120,8,103,28,"data"],[120,12,103,32],[120,14,103,34,"response"],[120,22,103,42],[120,23,103,43,"data"],[121,6,103,48],[121,7,103,49],[122,4,104,2],[123,4,106,2],[123,10,106,8,"delete"],[123,16,106,14,"delete"],[123,17,106,18,"url"],[123,20,106,29],[123,22,106,56],[124,6,107,4],[124,12,107,10,"response"],[124,20,107,18],[124,23,107,21],[124,29,107,27],[124,33,107,31],[124,34,107,32,"client"],[124,40,107,38],[124,41,107,39,"delete"],[124,47,107,45],[124,48,107,49,"url"],[124,51,107,52],[124,52,107,53],[125,6,108,4],[125,13,108,11],[126,8,108,13,"success"],[126,15,108,20],[126,17,108,22],[126,21,108,26],[127,8,108,28,"data"],[127,12,108,32],[127,14,108,34,"response"],[127,22,108,42],[127,23,108,43,"data"],[128,6,108,48],[128,7,108,49],[129,4,109,2],[130,2,110,0],[131,2,112,7],[131,8,112,13,"apiClient"],[131,17,112,22],[131,20,112,25],[131,24,112,29,"ApiClient"],[131,33,112,38],[131,34,112,39],[131,35,112,40],[132,2,113,0],[132,6,113,0,"_default"],[132,14,113,0],[132,17,113,15,"apiClient"],[132,26,113,24],[133,0,113,25],[133,3]],"functionMap":{"names":["<global>","ApiClient","ApiClient#constructor","ApiClient#setupInterceptors","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","ApiClient#setOfflineMode","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;ACU;ECI;GDU;EEE;MCG;ODiB;MEC,gCF;MGK,sBH;MIC;OJ6B;GFE;EOE;GPE;EQE;GRG;ESE;GTG;EUE;GVG;EWE;GXG;CDC"},"hasCjsExports":false},"type":"js/module"}]}