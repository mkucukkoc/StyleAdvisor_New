{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":179},"end":{"line":5,"column":33,"index":212}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":213},"end":{"line":6,"column":64,"index":277}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":278},"end":{"line":7,"column":69,"index":347}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSubscriptionStore\", {\n    enumerable: true,\n    get: function () {\n      return useSubscriptionStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // ============================================================\n  // StyleAdvisor AI - Subscription Store (Zustand)\n  // ============================================================\n\n  const defaultFeatures = [{\n    id: 'unlimited-analyses',\n    name: 'Unlimited Analyses',\n    description: 'No daily limits',\n    isAvailable: false\n  }, {\n    id: 'all-suggestions',\n    name: 'All Outfit Suggestions',\n    description: 'See all AI recommendations',\n    isAvailable: false\n  }, {\n    id: 'advanced-insights',\n    name: 'Advanced Insights',\n    description: 'Detailed style analysis',\n    isAvailable: false\n  }, {\n    id: 'priority-support',\n    name: 'Priority Support',\n    description: 'Get help faster',\n    isAvailable: false\n  }, {\n    id: 'exclusive-content',\n    name: 'Exclusive Content',\n    description: 'Fashion trends & tips',\n    isAvailable: false\n  }, {\n    id: 'no-ads',\n    name: 'Ad-Free',\n    description: 'No advertisements',\n    isAvailable: false\n  }];\n  const initialStatus = {\n    isPremium: false,\n    plan: 'free',\n    analysisRemaining: 1,\n    analysisLimit: 1,\n    features: defaultFeatures\n  };\n  const initialState = {\n    status: initialStatus,\n    isLoading: false\n  };\n  const useSubscriptionStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    ...initialState,\n    setStatus: status => set({\n      status\n    }),\n    setPremium: isPremium => {\n      const current = get().status;\n      set({\n        status: {\n          ...current,\n          isPremium,\n          plan: isPremium ? 'monthly' : 'free',\n          analysisRemaining: isPremium ? 999 : 1,\n          analysisLimit: isPremium ? 999 : 1,\n          features: current.features.map(f => ({\n            ...f,\n            isAvailable: isPremium\n          }))\n        }\n      });\n    },\n    decrementAnalysis: () => {\n      const current = get().status;\n      if (!current.isPremium && current.analysisRemaining > 0) {\n        set({\n          status: {\n            ...current,\n            analysisRemaining: current.analysisRemaining - 1\n          }\n        });\n      }\n    },\n    resetDailyAnalysis: () => {\n      const current = get().status;\n      if (!current.isPremium) {\n        set({\n          status: {\n            ...current,\n            analysisRemaining: current.analysisLimit\n          }\n        });\n      }\n    },\n    setLoading: value => set({\n      isLoading: value\n    }),\n    checkAndHandlePremiumLock: featureKey => {\n      const {\n        status\n      } = get();\n\n      // Premium users have access to everything\n      if (status.isPremium) {\n        return {\n          allowed: true,\n          action: 'allow'\n        };\n      }\n\n      // Check specific features\n      switch (featureKey) {\n        case 'analysis':\n          if (status.analysisRemaining <= 0) {\n            return {\n              allowed: false,\n              action: 'limit-modal'\n            };\n          }\n          return {\n            allowed: true,\n            action: 'allow'\n          };\n        case 'outfit-suggestion-3':\n        case 'outfit-suggestion-4':\n        case 'outfit-suggestion-5':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        case 'product-11':\n        case 'product-beyond-10':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        case 'advanced-insights':\n        case 'fit-details':\n        case 'color-details':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        default:\n          return {\n            allowed: true,\n            action: 'allow'\n          };\n      }\n    },\n    reset: () => set(initialState)\n  }), {\n    name: 'styleadvisor-subscription',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      status: state.status\n    })\n  }));\n});","lineCount":175,"map":[[12,2,47,0,"Object"],[12,8,47,0],[12,9,47,0,"defineProperty"],[12,23,47,0],[12,24,47,0,"exports"],[12,31,47,0],[13,4,47,0,"enumerable"],[13,14,47,0],[14,4,47,0,"get"],[14,7,47,0],[14,18,47,0,"get"],[14,19,47,0],[15,6,47,0],[15,13,47,0,"useSubscriptionStore"],[15,33,47,0],[16,4,47,0],[17,2,47,0],[18,2,5,0],[18,6,5,0,"_zustand"],[18,14,5,0],[18,17,5,0,"require"],[18,24,5,0],[18,25,5,0,"_dependencyMap"],[18,39,5,0],[19,2,6,0],[19,6,6,0,"_zustandMiddleware"],[19,24,6,0],[19,27,6,0,"require"],[19,34,6,0],[19,35,6,0,"_dependencyMap"],[19,49,6,0],[20,2,7,0],[20,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,7,0],[20,45,7,0,"require"],[20,52,7,0],[20,53,7,0,"_dependencyMap"],[20,67,7,0],[21,2,7,0],[21,6,7,0,"AsyncStorage"],[21,18,7,0],[21,21,7,0,"_interopDefault"],[21,36,7,0],[21,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,7,0],[22,2,1,0],[23,2,2,0],[24,2,3,0],[26,2,25,0],[26,8,25,6,"defaultFeatures"],[26,23,25,39],[26,26,25,42],[26,27,26,2],[27,4,26,4,"id"],[27,6,26,6],[27,8,26,8],[27,28,26,28],[28,4,26,30,"name"],[28,8,26,34],[28,10,26,36],[28,30,26,56],[29,4,26,58,"description"],[29,15,26,69],[29,17,26,71],[29,34,26,88],[30,4,26,90,"isAvailable"],[30,15,26,101],[30,17,26,103],[31,2,26,109],[31,3,26,110],[31,5,27,2],[32,4,27,4,"id"],[32,6,27,6],[32,8,27,8],[32,25,27,25],[33,4,27,27,"name"],[33,8,27,31],[33,10,27,33],[33,34,27,57],[34,4,27,59,"description"],[34,15,27,70],[34,17,27,72],[34,45,27,100],[35,4,27,102,"isAvailable"],[35,15,27,113],[35,17,27,115],[36,2,27,121],[36,3,27,122],[36,5,28,2],[37,4,28,4,"id"],[37,6,28,6],[37,8,28,8],[37,27,28,27],[38,4,28,29,"name"],[38,8,28,33],[38,10,28,35],[38,29,28,54],[39,4,28,56,"description"],[39,15,28,67],[39,17,28,69],[39,42,28,94],[40,4,28,96,"isAvailable"],[40,15,28,107],[40,17,28,109],[41,2,28,115],[41,3,28,116],[41,5,29,2],[42,4,29,4,"id"],[42,6,29,6],[42,8,29,8],[42,26,29,26],[43,4,29,28,"name"],[43,8,29,32],[43,10,29,34],[43,28,29,52],[44,4,29,54,"description"],[44,15,29,65],[44,17,29,67],[44,34,29,84],[45,4,29,86,"isAvailable"],[45,15,29,97],[45,17,29,99],[46,2,29,105],[46,3,29,106],[46,5,30,2],[47,4,30,4,"id"],[47,6,30,6],[47,8,30,8],[47,27,30,27],[48,4,30,29,"name"],[48,8,30,33],[48,10,30,35],[48,29,30,54],[49,4,30,56,"description"],[49,15,30,67],[49,17,30,69],[49,40,30,92],[50,4,30,94,"isAvailable"],[50,15,30,105],[50,17,30,107],[51,2,30,113],[51,3,30,114],[51,5,31,2],[52,4,31,4,"id"],[52,6,31,6],[52,8,31,8],[52,16,31,16],[53,4,31,18,"name"],[53,8,31,22],[53,10,31,24],[53,19,31,33],[54,4,31,35,"description"],[54,15,31,46],[54,17,31,48],[54,36,31,67],[55,4,31,69,"isAvailable"],[55,15,31,80],[55,17,31,82],[56,2,31,88],[56,3,31,89],[56,4,32,1],[57,2,34,0],[57,8,34,6,"initialStatus"],[57,21,34,39],[57,24,34,42],[58,4,35,2,"isPremium"],[58,13,35,11],[58,15,35,13],[58,20,35,18],[59,4,36,2,"plan"],[59,8,36,6],[59,10,36,8],[59,16,36,14],[60,4,37,2,"analysisRemaining"],[60,21,37,19],[60,23,37,21],[60,24,37,22],[61,4,38,2,"analysisLimit"],[61,17,38,15],[61,19,38,17],[61,20,38,18],[62,4,39,2,"features"],[62,12,39,10],[62,14,39,12,"defaultFeatures"],[63,2,40,0],[63,3,40,1],[64,2,42,0],[64,8,42,6,"initialState"],[64,20,42,37],[64,23,42,40],[65,4,43,2,"status"],[65,10,43,8],[65,12,43,10,"initialStatus"],[65,25,43,23],[66,4,44,2,"isLoading"],[66,13,44,11],[66,15,44,13],[67,2,45,0],[67,3,45,1],[68,2,47,7],[68,8,47,13,"useSubscriptionStore"],[68,28,47,33],[68,31,47,36],[68,35,47,36,"create"],[68,43,47,42],[68,44,47,42,"create"],[68,50,47,42],[68,52,47,84],[68,53,47,85],[68,54,48,2],[68,58,48,2,"persist"],[68,76,48,9],[68,77,48,9,"persist"],[68,84,48,9],[68,86,49,4],[68,87,49,5,"set"],[68,90,49,8],[68,92,49,10,"get"],[68,95,49,13],[68,101,49,19],[69,4,50,6],[69,7,50,9,"initialState"],[69,19,50,21],[70,4,52,6,"setStatus"],[70,13,52,15],[70,15,52,18,"status"],[70,21,52,24],[70,25,53,8,"set"],[70,28,53,11],[70,29,53,12],[71,6,53,14,"status"],[72,4,53,21],[72,5,53,22],[72,6,53,23],[73,4,55,6,"setPremium"],[73,14,55,16],[73,16,55,19,"isPremium"],[73,25,55,28],[73,29,55,33],[74,6,56,8],[74,12,56,14,"current"],[74,19,56,21],[74,22,56,24,"get"],[74,25,56,27],[74,26,56,28],[74,27,56,29],[74,28,56,30,"status"],[74,34,56,36],[75,6,57,8,"set"],[75,9,57,11],[75,10,57,12],[76,8,58,10,"status"],[76,14,58,16],[76,16,58,18],[77,10,59,12],[77,13,59,15,"current"],[77,20,59,22],[78,10,60,12,"isPremium"],[78,19,60,21],[79,10,61,12,"plan"],[79,14,61,16],[79,16,61,18,"isPremium"],[79,25,61,27],[79,28,61,30],[79,37,61,39],[79,40,61,42],[79,46,61,48],[80,10,62,12,"analysisRemaining"],[80,27,62,29],[80,29,62,31,"isPremium"],[80,38,62,40],[80,41,62,43],[80,44,62,46],[80,47,62,49],[80,48,62,50],[81,10,63,12,"analysisLimit"],[81,23,63,25],[81,25,63,27,"isPremium"],[81,34,63,36],[81,37,63,39],[81,40,63,42],[81,43,63,45],[81,44,63,46],[82,10,64,12,"features"],[82,18,64,20],[82,20,64,22,"current"],[82,27,64,29],[82,28,64,30,"features"],[82,36,64,38],[82,37,64,39,"map"],[82,40,64,42],[82,41,64,44,"f"],[82,42,64,45],[82,47,64,51],[83,12,64,53],[83,15,64,56,"f"],[83,16,64,57],[84,12,64,59,"isAvailable"],[84,23,64,70],[84,25,64,72,"isPremium"],[85,10,64,82],[85,11,64,83],[85,12,64,84],[86,8,65,10],[87,6,66,8],[87,7,66,9],[87,8,66,10],[88,4,67,6],[88,5,67,7],[89,4,69,6,"decrementAnalysis"],[89,21,69,23],[89,23,69,25,"decrementAnalysis"],[89,24,69,25],[89,29,69,31],[90,6,70,8],[90,12,70,14,"current"],[90,19,70,21],[90,22,70,24,"get"],[90,25,70,27],[90,26,70,28],[90,27,70,29],[90,28,70,30,"status"],[90,34,70,36],[91,6,71,8],[91,10,71,12],[91,11,71,13,"current"],[91,18,71,20],[91,19,71,21,"isPremium"],[91,28,71,30],[91,32,71,34,"current"],[91,39,71,41],[91,40,71,42,"analysisRemaining"],[91,57,71,59],[91,60,71,62],[91,61,71,63],[91,63,71,65],[92,8,72,10,"set"],[92,11,72,13],[92,12,72,14],[93,10,73,12,"status"],[93,16,73,18],[93,18,73,20],[94,12,74,14],[94,15,74,17,"current"],[94,22,74,24],[95,12,75,14,"analysisRemaining"],[95,29,75,31],[95,31,75,33,"current"],[95,38,75,40],[95,39,75,41,"analysisRemaining"],[95,56,75,58],[95,59,75,61],[96,10,76,12],[97,8,77,10],[97,9,77,11],[97,10,77,12],[98,6,78,8],[99,4,79,6],[99,5,79,7],[100,4,81,6,"resetDailyAnalysis"],[100,22,81,24],[100,24,81,26,"resetDailyAnalysis"],[100,25,81,26],[100,30,81,32],[101,6,82,8],[101,12,82,14,"current"],[101,19,82,21],[101,22,82,24,"get"],[101,25,82,27],[101,26,82,28],[101,27,82,29],[101,28,82,30,"status"],[101,34,82,36],[102,6,83,8],[102,10,83,12],[102,11,83,13,"current"],[102,18,83,20],[102,19,83,21,"isPremium"],[102,28,83,30],[102,30,83,32],[103,8,84,10,"set"],[103,11,84,13],[103,12,84,14],[104,10,85,12,"status"],[104,16,85,18],[104,18,85,20],[105,12,86,14],[105,15,86,17,"current"],[105,22,86,24],[106,12,87,14,"analysisRemaining"],[106,29,87,31],[106,31,87,33,"current"],[106,38,87,40],[106,39,87,41,"analysisLimit"],[107,10,88,12],[108,8,89,10],[108,9,89,11],[108,10,89,12],[109,6,90,8],[110,4,91,6],[110,5,91,7],[111,4,93,6,"setLoading"],[111,14,93,16],[111,16,93,19,"value"],[111,21,93,24],[111,25,94,8,"set"],[111,28,94,11],[111,29,94,12],[112,6,94,14,"isLoading"],[112,15,94,23],[112,17,94,25,"value"],[113,4,94,31],[113,5,94,32],[113,6,94,33],[114,4,96,6,"checkAndHandlePremiumLock"],[114,29,96,31],[114,31,96,34,"featureKey"],[114,41,96,44],[114,45,96,49],[115,6,97,8],[115,12,97,14],[116,8,97,16,"status"],[117,6,97,23],[117,7,97,24],[117,10,97,27,"get"],[117,13,97,30],[117,14,97,31],[117,15,97,32],[119,6,99,8],[120,6,100,8],[120,10,100,12,"status"],[120,16,100,18],[120,17,100,19,"isPremium"],[120,26,100,28],[120,28,100,30],[121,8,101,10],[121,15,101,17],[122,10,101,19,"allowed"],[122,17,101,26],[122,19,101,28],[122,23,101,32],[123,10,101,34,"action"],[123,16,101,40],[123,18,101,42],[124,8,101,50],[124,9,101,51],[125,6,102,8],[127,6,104,8],[128,6,105,8],[128,14,105,16,"featureKey"],[128,24,105,26],[129,8,106,10],[129,13,106,15],[129,23,106,25],[130,10,107,12],[130,14,107,16,"status"],[130,20,107,22],[130,21,107,23,"analysisRemaining"],[130,38,107,40],[130,42,107,44],[130,43,107,45],[130,45,107,47],[131,12,108,14],[131,19,108,21],[132,14,108,23,"allowed"],[132,21,108,30],[132,23,108,32],[132,28,108,37],[133,14,108,39,"action"],[133,20,108,45],[133,22,108,47],[134,12,108,61],[134,13,108,62],[135,10,109,12],[136,10,110,12],[136,17,110,19],[137,12,110,21,"allowed"],[137,19,110,28],[137,21,110,30],[137,25,110,34],[138,12,110,36,"action"],[138,18,110,42],[138,20,110,44],[139,10,110,52],[139,11,110,53],[140,8,112,10],[140,13,112,15],[140,34,112,36],[141,8,113,10],[141,13,113,15],[141,34,113,36],[142,8,114,10],[142,13,114,15],[142,34,114,36],[143,10,115,12],[143,17,115,19],[144,12,115,21,"allowed"],[144,19,115,28],[144,21,115,30],[144,26,115,35],[145,12,115,37,"action"],[145,18,115,43],[145,20,115,45],[146,10,115,55],[146,11,115,56],[147,8,117,10],[147,13,117,15],[147,25,117,27],[148,8,118,10],[148,13,118,15],[148,32,118,34],[149,10,119,12],[149,17,119,19],[150,12,119,21,"allowed"],[150,19,119,28],[150,21,119,30],[150,26,119,35],[151,12,119,37,"action"],[151,18,119,43],[151,20,119,45],[152,10,119,55],[152,11,119,56],[153,8,121,10],[153,13,121,15],[153,32,121,34],[154,8,122,10],[154,13,122,15],[154,26,122,28],[155,8,123,10],[155,13,123,15],[155,28,123,30],[156,10,124,12],[156,17,124,19],[157,12,124,21,"allowed"],[157,19,124,28],[157,21,124,30],[157,26,124,35],[158,12,124,37,"action"],[158,18,124,43],[158,20,124,45],[159,10,124,55],[159,11,124,56],[160,8,126,10],[161,10,127,12],[161,17,127,19],[162,12,127,21,"allowed"],[162,19,127,28],[162,21,127,30],[162,25,127,34],[163,12,127,36,"action"],[163,18,127,42],[163,20,127,44],[164,10,127,52],[164,11,127,53],[165,6,128,8],[166,4,129,6],[166,5,129,7],[167,4,131,6,"reset"],[167,9,131,11],[167,11,131,13,"reset"],[167,12,131,13],[167,17,132,8,"set"],[167,20,132,11],[167,21,132,12,"initialState"],[167,33,132,24],[168,2,133,4],[168,3,133,5],[168,4,133,6],[168,6,134,4],[169,4,135,6,"name"],[169,8,135,10],[169,10,135,12],[169,37,135,39],[170,4,136,6,"storage"],[170,11,136,13],[170,13,136,15],[170,17,136,15,"createJSONStorage"],[170,35,136,32],[170,36,136,32,"createJSONStorage"],[170,53,136,32],[170,55,136,33],[170,61,136,39,"AsyncStorage"],[170,73,136,51],[170,74,136,51,"default"],[170,81,136,51],[170,82,136,52],[171,4,137,6,"partialize"],[171,14,137,16],[171,16,137,19,"state"],[171,21,137,24],[171,26,137,30],[172,6,138,8,"status"],[172,12,138,14],[172,14,138,16,"state"],[172,19,138,21],[172,20,138,22,"status"],[173,4,139,6],[173,5,139,7],[174,2,140,4],[174,3,141,2],[174,4,142,0],[174,5,142,1],[175,0,142,2],[175,3]],"functionMap":{"names":["<global>","persist$argument_0","setStatus","setPremium","current.features.map$argument_0","decrementAnalysis","resetDailyAnalysis","setLoading","checkAndHandlePremiumLock","reset","createJSONStorage$argument_0","persist$argument_1.partialize"],"mappings":"AAA;ICgD;iBCG;uBDC;kBEE;2CCS,yCD;OFG;yBIE;OJU;0BKE;OLU;kBME;iCNC;iCOE;OPiC;aQE;yBRC;MDC;iCUG,kBV;kBWC;QXE"},"hasCjsExports":false},"type":"js/module"}]}