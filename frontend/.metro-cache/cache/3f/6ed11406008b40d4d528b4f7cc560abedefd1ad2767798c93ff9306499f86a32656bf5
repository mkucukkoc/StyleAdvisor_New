{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":179},"end":{"line":5,"column":33,"index":212}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":213},"end":{"line":6,"column":64,"index":277}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":278},"end":{"line":7,"column":69,"index":347}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSubscriptionStore\", {\n    enumerable: true,\n    get: function () {\n      return useSubscriptionStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // ============================================================\n  // StyleAdvisor AI - Subscription Store (Zustand)\n  // ============================================================\n\n  const defaultFeatures = [{\n    id: 'unlimited-analyses',\n    name: 'Unlimited Analyses',\n    description: 'No daily limits',\n    isAvailable: false\n  }, {\n    id: 'all-suggestions',\n    name: 'All Outfit Suggestions',\n    description: 'See all AI recommendations',\n    isAvailable: false\n  }, {\n    id: 'advanced-insights',\n    name: 'Advanced Insights',\n    description: 'Detailed style analysis',\n    isAvailable: false\n  }, {\n    id: 'priority-support',\n    name: 'Priority Support',\n    description: 'Get help faster',\n    isAvailable: false\n  }, {\n    id: 'exclusive-content',\n    name: 'Exclusive Content',\n    description: 'Fashion trends & tips',\n    isAvailable: false\n  }, {\n    id: 'no-ads',\n    name: 'Ad-Free',\n    description: 'No advertisements',\n    isAvailable: false\n  }];\n  const initialStatus = {\n    isPremium: false,\n    plan: 'free',\n    analysisRemaining: 1,\n    analysisLimit: 1,\n    features: defaultFeatures\n  };\n  const initialState = {\n    status: initialStatus,\n    isLoading: false\n  };\n  const useSubscriptionStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => Object.assign({}, initialState, {\n    setStatus: status => set({\n      status\n    }),\n    setPremium: isPremium => {\n      const current = get().status;\n      set({\n        status: Object.assign({}, current, {\n          isPremium,\n          plan: isPremium ? 'monthly' : 'free',\n          analysisRemaining: isPremium ? 999 : 1,\n          analysisLimit: isPremium ? 999 : 1,\n          features: current.features.map(f => Object.assign({}, f, {\n            isAvailable: isPremium\n          }))\n        })\n      });\n    },\n    decrementAnalysis: () => {\n      const current = get().status;\n      if (!current.isPremium && current.analysisRemaining > 0) {\n        set({\n          status: Object.assign({}, current, {\n            analysisRemaining: current.analysisRemaining - 1\n          })\n        });\n      }\n    },\n    resetDailyAnalysis: () => {\n      const current = get().status;\n      if (!current.isPremium) {\n        set({\n          status: Object.assign({}, current, {\n            analysisRemaining: current.analysisLimit\n          })\n        });\n      }\n    },\n    setLoading: value => set({\n      isLoading: value\n    }),\n    checkAndHandlePremiumLock: featureKey => {\n      const {\n        status\n      } = get();\n\n      // Premium users have access to everything\n      if (status.isPremium) {\n        return {\n          allowed: true,\n          action: 'allow'\n        };\n      }\n\n      // Check specific features\n      switch (featureKey) {\n        case 'analysis':\n          if (status.analysisRemaining <= 0) {\n            return {\n              allowed: false,\n              action: 'limit-modal'\n            };\n          }\n          return {\n            allowed: true,\n            action: 'allow'\n          };\n        case 'outfit-suggestion-3':\n        case 'outfit-suggestion-4':\n        case 'outfit-suggestion-5':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        case 'product-11':\n        case 'product-beyond-10':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        case 'advanced-insights':\n        case 'fit-details':\n        case 'color-details':\n          return {\n            allowed: false,\n            action: 'paywall'\n          };\n        default:\n          return {\n            allowed: true,\n            action: 'allow'\n          };\n      }\n    },\n    reset: () => set(initialState)\n  }), {\n    name: 'styleadvisor-subscription',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      status: state.status\n    })\n  }));\n});","lineCount":170,"map":[[12,2,47,0,"Object"],[12,8,47,0],[12,9,47,0,"defineProperty"],[12,23,47,0],[12,24,47,0,"exports"],[12,31,47,0],[13,4,47,0,"enumerable"],[13,14,47,0],[14,4,47,0,"get"],[14,7,47,0],[14,18,47,0,"get"],[14,19,47,0],[15,6,47,0],[15,13,47,0,"useSubscriptionStore"],[15,33,47,0],[16,4,47,0],[17,2,47,0],[18,2,5,0],[18,6,5,0,"_zustand"],[18,14,5,0],[18,17,5,0,"require"],[18,24,5,0],[18,25,5,0,"_dependencyMap"],[18,39,5,0],[19,2,6,0],[19,6,6,0,"_zustandMiddleware"],[19,24,6,0],[19,27,6,0,"require"],[19,34,6,0],[19,35,6,0,"_dependencyMap"],[19,49,6,0],[20,2,7,0],[20,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[20,42,7,0],[20,45,7,0,"require"],[20,52,7,0],[20,53,7,0,"_dependencyMap"],[20,67,7,0],[21,2,7,0],[21,6,7,0,"AsyncStorage"],[21,18,7,0],[21,21,7,0,"_interopDefault"],[21,36,7,0],[21,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[21,73,7,0],[22,2,1,0],[23,2,2,0],[24,2,3,0],[26,2,25,0],[26,8,25,6,"defaultFeatures"],[26,23,25,39],[26,26,25,42],[26,27,26,2],[27,4,26,4,"id"],[27,6,26,6],[27,8,26,8],[27,28,26,28],[28,4,26,30,"name"],[28,8,26,34],[28,10,26,36],[28,30,26,56],[29,4,26,58,"description"],[29,15,26,69],[29,17,26,71],[29,34,26,88],[30,4,26,90,"isAvailable"],[30,15,26,101],[30,17,26,103],[31,2,26,109],[31,3,26,110],[31,5,27,2],[32,4,27,4,"id"],[32,6,27,6],[32,8,27,8],[32,25,27,25],[33,4,27,27,"name"],[33,8,27,31],[33,10,27,33],[33,34,27,57],[34,4,27,59,"description"],[34,15,27,70],[34,17,27,72],[34,45,27,100],[35,4,27,102,"isAvailable"],[35,15,27,113],[35,17,27,115],[36,2,27,121],[36,3,27,122],[36,5,28,2],[37,4,28,4,"id"],[37,6,28,6],[37,8,28,8],[37,27,28,27],[38,4,28,29,"name"],[38,8,28,33],[38,10,28,35],[38,29,28,54],[39,4,28,56,"description"],[39,15,28,67],[39,17,28,69],[39,42,28,94],[40,4,28,96,"isAvailable"],[40,15,28,107],[40,17,28,109],[41,2,28,115],[41,3,28,116],[41,5,29,2],[42,4,29,4,"id"],[42,6,29,6],[42,8,29,8],[42,26,29,26],[43,4,29,28,"name"],[43,8,29,32],[43,10,29,34],[43,28,29,52],[44,4,29,54,"description"],[44,15,29,65],[44,17,29,67],[44,34,29,84],[45,4,29,86,"isAvailable"],[45,15,29,97],[45,17,29,99],[46,2,29,105],[46,3,29,106],[46,5,30,2],[47,4,30,4,"id"],[47,6,30,6],[47,8,30,8],[47,27,30,27],[48,4,30,29,"name"],[48,8,30,33],[48,10,30,35],[48,29,30,54],[49,4,30,56,"description"],[49,15,30,67],[49,17,30,69],[49,40,30,92],[50,4,30,94,"isAvailable"],[50,15,30,105],[50,17,30,107],[51,2,30,113],[51,3,30,114],[51,5,31,2],[52,4,31,4,"id"],[52,6,31,6],[52,8,31,8],[52,16,31,16],[53,4,31,18,"name"],[53,8,31,22],[53,10,31,24],[53,19,31,33],[54,4,31,35,"description"],[54,15,31,46],[54,17,31,48],[54,36,31,67],[55,4,31,69,"isAvailable"],[55,15,31,80],[55,17,31,82],[56,2,31,88],[56,3,31,89],[56,4,32,1],[57,2,34,0],[57,8,34,6,"initialStatus"],[57,21,34,39],[57,24,34,42],[58,4,35,2,"isPremium"],[58,13,35,11],[58,15,35,13],[58,20,35,18],[59,4,36,2,"plan"],[59,8,36,6],[59,10,36,8],[59,16,36,14],[60,4,37,2,"analysisRemaining"],[60,21,37,19],[60,23,37,21],[60,24,37,22],[61,4,38,2,"analysisLimit"],[61,17,38,15],[61,19,38,17],[61,20,38,18],[62,4,39,2,"features"],[62,12,39,10],[62,14,39,12,"defaultFeatures"],[63,2,40,0],[63,3,40,1],[64,2,42,0],[64,8,42,6,"initialState"],[64,20,42,37],[64,23,42,40],[65,4,43,2,"status"],[65,10,43,8],[65,12,43,10,"initialStatus"],[65,25,43,23],[66,4,44,2,"isLoading"],[66,13,44,11],[66,15,44,13],[67,2,45,0],[67,3,45,1],[68,2,47,7],[68,8,47,13,"useSubscriptionStore"],[68,28,47,33],[68,31,47,36],[68,35,47,36,"create"],[68,43,47,42],[68,44,47,42,"create"],[68,50,47,42],[68,52,47,84],[68,53,47,85],[68,54,48,2],[68,58,48,2,"persist"],[68,76,48,9],[68,77,48,9,"persist"],[68,84,48,9],[68,86,49,4],[68,87,49,5,"set"],[68,90,49,8],[68,92,49,10,"get"],[68,95,49,13],[68,100,49,13,"Object"],[68,106,49,13],[68,107,49,13,"assign"],[68,113,49,13],[68,118,50,9,"initialState"],[68,130,50,21],[69,4,52,6,"setStatus"],[69,13,52,15],[69,15,52,18,"status"],[69,21,52,24],[69,25,53,8,"set"],[69,28,53,11],[69,29,53,12],[70,6,53,14,"status"],[71,4,53,21],[71,5,53,22],[71,6,53,23],[72,4,55,6,"setPremium"],[72,14,55,16],[72,16,55,19,"isPremium"],[72,25,55,28],[72,29,55,33],[73,6,56,8],[73,12,56,14,"current"],[73,19,56,21],[73,22,56,24,"get"],[73,25,56,27],[73,26,56,28],[73,27,56,29],[73,28,56,30,"status"],[73,34,56,36],[74,6,57,8,"set"],[74,9,57,11],[74,10,57,12],[75,8,58,10,"status"],[75,14,58,16],[75,16,58,16,"Object"],[75,22,58,16],[75,23,58,16,"assign"],[75,29,58,16],[75,34,59,15,"current"],[75,41,59,22],[76,10,60,12,"isPremium"],[76,19,60,21],[77,10,61,12,"plan"],[77,14,61,16],[77,16,61,18,"isPremium"],[77,25,61,27],[77,28,61,30],[77,37,61,39],[77,40,61,42],[77,46,61,48],[78,10,62,12,"analysisRemaining"],[78,27,62,29],[78,29,62,31,"isPremium"],[78,38,62,40],[78,41,62,43],[78,44,62,46],[78,47,62,49],[78,48,62,50],[79,10,63,12,"analysisLimit"],[79,23,63,25],[79,25,63,27,"isPremium"],[79,34,63,36],[79,37,63,39],[79,40,63,42],[79,43,63,45],[79,44,63,46],[80,10,64,12,"features"],[80,18,64,20],[80,20,64,22,"current"],[80,27,64,29],[80,28,64,30,"features"],[80,36,64,38],[80,37,64,39,"map"],[80,40,64,42],[80,41,64,44,"f"],[80,42,64,45],[80,46,64,45,"Object"],[80,52,64,45],[80,53,64,45,"assign"],[80,59,64,45],[80,64,64,56,"f"],[80,65,64,57],[81,12,64,59,"isAvailable"],[81,23,64,70],[81,25,64,72,"isPremium"],[82,10,64,81],[82,12,64,84],[83,8,64,85],[84,6,66,8],[84,7,66,9],[84,8,66,10],[85,4,67,6],[85,5,67,7],[86,4,69,6,"decrementAnalysis"],[86,21,69,23],[86,23,69,25,"decrementAnalysis"],[86,24,69,25],[86,29,69,31],[87,6,70,8],[87,12,70,14,"current"],[87,19,70,21],[87,22,70,24,"get"],[87,25,70,27],[87,26,70,28],[87,27,70,29],[87,28,70,30,"status"],[87,34,70,36],[88,6,71,8],[88,10,71,12],[88,11,71,13,"current"],[88,18,71,20],[88,19,71,21,"isPremium"],[88,28,71,30],[88,32,71,34,"current"],[88,39,71,41],[88,40,71,42,"analysisRemaining"],[88,57,71,59],[88,60,71,62],[88,61,71,63],[88,63,71,65],[89,8,72,10,"set"],[89,11,72,13],[89,12,72,14],[90,10,73,12,"status"],[90,16,73,18],[90,18,73,18,"Object"],[90,24,73,18],[90,25,73,18,"assign"],[90,31,73,18],[90,36,74,17,"current"],[90,43,74,24],[91,12,75,14,"analysisRemaining"],[91,29,75,31],[91,31,75,33,"current"],[91,38,75,40],[91,39,75,41,"analysisRemaining"],[91,56,75,58],[91,59,75,61],[92,10,75,62],[93,8,77,10],[93,9,77,11],[93,10,77,12],[94,6,78,8],[95,4,79,6],[95,5,79,7],[96,4,81,6,"resetDailyAnalysis"],[96,22,81,24],[96,24,81,26,"resetDailyAnalysis"],[96,25,81,26],[96,30,81,32],[97,6,82,8],[97,12,82,14,"current"],[97,19,82,21],[97,22,82,24,"get"],[97,25,82,27],[97,26,82,28],[97,27,82,29],[97,28,82,30,"status"],[97,34,82,36],[98,6,83,8],[98,10,83,12],[98,11,83,13,"current"],[98,18,83,20],[98,19,83,21,"isPremium"],[98,28,83,30],[98,30,83,32],[99,8,84,10,"set"],[99,11,84,13],[99,12,84,14],[100,10,85,12,"status"],[100,16,85,18],[100,18,85,18,"Object"],[100,24,85,18],[100,25,85,18,"assign"],[100,31,85,18],[100,36,86,17,"current"],[100,43,86,24],[101,12,87,14,"analysisRemaining"],[101,29,87,31],[101,31,87,33,"current"],[101,38,87,40],[101,39,87,41,"analysisLimit"],[102,10,87,54],[103,8,89,10],[103,9,89,11],[103,10,89,12],[104,6,90,8],[105,4,91,6],[105,5,91,7],[106,4,93,6,"setLoading"],[106,14,93,16],[106,16,93,19,"value"],[106,21,93,24],[106,25,94,8,"set"],[106,28,94,11],[106,29,94,12],[107,6,94,14,"isLoading"],[107,15,94,23],[107,17,94,25,"value"],[108,4,94,31],[108,5,94,32],[108,6,94,33],[109,4,96,6,"checkAndHandlePremiumLock"],[109,29,96,31],[109,31,96,34,"featureKey"],[109,41,96,44],[109,45,96,49],[110,6,97,8],[110,12,97,14],[111,8,97,16,"status"],[112,6,97,23],[112,7,97,24],[112,10,97,27,"get"],[112,13,97,30],[112,14,97,31],[112,15,97,32],[114,6,99,8],[115,6,100,8],[115,10,100,12,"status"],[115,16,100,18],[115,17,100,19,"isPremium"],[115,26,100,28],[115,28,100,30],[116,8,101,10],[116,15,101,17],[117,10,101,19,"allowed"],[117,17,101,26],[117,19,101,28],[117,23,101,32],[118,10,101,34,"action"],[118,16,101,40],[118,18,101,42],[119,8,101,50],[119,9,101,51],[120,6,102,8],[122,6,104,8],[123,6,105,8],[123,14,105,16,"featureKey"],[123,24,105,26],[124,8,106,10],[124,13,106,15],[124,23,106,25],[125,10,107,12],[125,14,107,16,"status"],[125,20,107,22],[125,21,107,23,"analysisRemaining"],[125,38,107,40],[125,42,107,44],[125,43,107,45],[125,45,107,47],[126,12,108,14],[126,19,108,21],[127,14,108,23,"allowed"],[127,21,108,30],[127,23,108,32],[127,28,108,37],[128,14,108,39,"action"],[128,20,108,45],[128,22,108,47],[129,12,108,61],[129,13,108,62],[130,10,109,12],[131,10,110,12],[131,17,110,19],[132,12,110,21,"allowed"],[132,19,110,28],[132,21,110,30],[132,25,110,34],[133,12,110,36,"action"],[133,18,110,42],[133,20,110,44],[134,10,110,52],[134,11,110,53],[135,8,112,10],[135,13,112,15],[135,34,112,36],[136,8,113,10],[136,13,113,15],[136,34,113,36],[137,8,114,10],[137,13,114,15],[137,34,114,36],[138,10,115,12],[138,17,115,19],[139,12,115,21,"allowed"],[139,19,115,28],[139,21,115,30],[139,26,115,35],[140,12,115,37,"action"],[140,18,115,43],[140,20,115,45],[141,10,115,55],[141,11,115,56],[142,8,117,10],[142,13,117,15],[142,25,117,27],[143,8,118,10],[143,13,118,15],[143,32,118,34],[144,10,119,12],[144,17,119,19],[145,12,119,21,"allowed"],[145,19,119,28],[145,21,119,30],[145,26,119,35],[146,12,119,37,"action"],[146,18,119,43],[146,20,119,45],[147,10,119,55],[147,11,119,56],[148,8,121,10],[148,13,121,15],[148,32,121,34],[149,8,122,10],[149,13,122,15],[149,26,122,28],[150,8,123,10],[150,13,123,15],[150,28,123,30],[151,10,124,12],[151,17,124,19],[152,12,124,21,"allowed"],[152,19,124,28],[152,21,124,30],[152,26,124,35],[153,12,124,37,"action"],[153,18,124,43],[153,20,124,45],[154,10,124,55],[154,11,124,56],[155,8,126,10],[156,10,127,12],[156,17,127,19],[157,12,127,21,"allowed"],[157,19,127,28],[157,21,127,30],[157,25,127,34],[158,12,127,36,"action"],[158,18,127,42],[158,20,127,44],[159,10,127,52],[159,11,127,53],[160,6,128,8],[161,4,129,6],[161,5,129,7],[162,4,131,6,"reset"],[162,9,131,11],[162,11,131,13,"reset"],[162,12,131,13],[162,17,132,8,"set"],[162,20,132,11],[162,21,132,12,"initialState"],[162,33,132,24],[163,2,132,25],[163,4,133,6],[163,6,134,4],[164,4,135,6,"name"],[164,8,135,10],[164,10,135,12],[164,37,135,39],[165,4,136,6,"storage"],[165,11,136,13],[165,13,136,15],[165,17,136,15,"createJSONStorage"],[165,35,136,32],[165,36,136,32,"createJSONStorage"],[165,53,136,32],[165,55,136,33],[165,61,136,39,"AsyncStorage"],[165,73,136,51],[165,74,136,51,"default"],[165,81,136,51],[165,82,136,52],[166,4,137,6,"partialize"],[166,14,137,16],[166,16,137,19,"state"],[166,21,137,24],[166,26,137,30],[167,6,138,8,"status"],[167,12,138,14],[167,14,138,16,"state"],[167,19,138,21],[167,20,138,22,"status"],[168,4,139,6],[168,5,139,7],[169,2,140,4],[169,3,141,2],[169,4,142,0],[169,5,142,1],[170,0,142,2],[170,3]],"functionMap":{"names":["<global>","persist$argument_0","setStatus","setPremium","current.features.map$argument_0","decrementAnalysis","resetDailyAnalysis","setLoading","checkAndHandlePremiumLock","reset","createJSONStorage$argument_0","persist$argument_1.partialize"],"mappings":"AAA;ICgD;iBCG;uBDC;kBEE;2CCS,yCD;OFG;yBIE;OJU;0BKE;OLU;kBME;iCNC;iCOE;OPiC;aQE;yBRC;MDC;iCUG,kBV;kBWC;QXE"},"hasCjsExports":false},"type":"js/module"}]}