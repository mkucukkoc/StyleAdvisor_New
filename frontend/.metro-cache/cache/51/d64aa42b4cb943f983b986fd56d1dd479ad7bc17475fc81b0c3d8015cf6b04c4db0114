{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":161},"end":{"line":5,"column":85,"index":246}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":247},"end":{"line":6,"column":69,"index":316}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"apiClient\", {\n    enumerable: true,\n    get: function () {\n      return apiClient;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // ============================================================\n  // StyleAdvisor AI - API Client\n  // ============================================================\n\n  const API_BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n  class ApiClient {\n    isOffline = false;\n    constructor() {\n      this.client = axios.default.create({\n        baseURL: `${API_BASE_URL}/api`,\n        timeout: 30000,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      this.setupInterceptors();\n    }\n    setupInterceptors() {\n      // Request interceptor - add auth token\n      this.client.interceptors.request.use(async config => {\n        if (this.isOffline) {\n          throw new Error('OFFLINE');\n        }\n        const token = await AsyncStorage.default.getItem('styleadvisor-auth');\n        if (token) {\n          try {\n            const parsed = JSON.parse(token);\n            if (parsed.state?.token) {\n              config.headers.Authorization = `Bearer ${parsed.state.token}`;\n            }\n          } catch (e) {\n            // Token parsing failed\n          }\n        }\n        return config;\n      }, error => Promise.reject(error));\n\n      // Response interceptor - handle errors\n      this.client.interceptors.response.use(response => response, error => {\n        if (error.message === 'OFFLINE') {\n          return Promise.reject({\n            code: 'OFFLINE',\n            message: 'You are offline'\n          });\n        }\n        if (!error.response) {\n          return Promise.reject({\n            code: 'NETWORK_ERROR',\n            message: 'Network error. Please check your connection.'\n          });\n        }\n        const {\n          status,\n          data\n        } = error.response;\n        if (status === 401) {\n          // Token expired or invalid - could trigger logout here\n          return Promise.reject({\n            code: 'UNAUTHORIZED',\n            message: 'Please log in to continue.'\n          });\n        }\n        return Promise.reject(data || {\n          code: 'SERVER_ERROR',\n          message: 'Server error. Please try again later.'\n        });\n      });\n    }\n    setOfflineMode(offline) {\n      this.isOffline = offline;\n    }\n    async get(url, params) {\n      const response = await this.client.get(url, {\n        params\n      });\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async post(url, data) {\n      const response = await this.client.post(url, data);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async put(url, data) {\n      const response = await this.client.put(url, data);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    async delete(url) {\n      const response = await this.client.delete(url);\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n  }\n  const apiClient = new ApiClient();\n  var _default = apiClient;\n});","lineCount":132,"map":[[12,2,113,0,"Object"],[12,8,113,0],[12,9,113,0,"defineProperty"],[12,23,113,0],[12,24,113,0,"exports"],[12,31,113,0],[13,4,113,0,"enumerable"],[13,14,113,0],[14,4,113,0,"get"],[14,7,113,0],[14,18,113,0,"get"],[14,19,113,0],[15,6,113,0],[15,13,113,0,"_default"],[15,21,113,0],[16,4,113,0],[17,2,113,0],[18,2,112,0,"Object"],[18,8,112,0],[18,9,112,0,"defineProperty"],[18,23,112,0],[18,24,112,0,"exports"],[18,31,112,0],[19,4,112,0,"enumerable"],[19,14,112,0],[20,4,112,0,"get"],[20,7,112,0],[20,18,112,0,"get"],[20,19,112,0],[21,6,112,0],[21,13,112,0,"apiClient"],[21,22,112,0],[22,4,112,0],[23,2,112,0],[24,2,5,0],[24,6,5,0,"_axios"],[24,12,5,0],[24,15,5,0,"require"],[24,22,5,0],[24,23,5,0,"_dependencyMap"],[24,37,5,0],[25,2,5,0],[25,6,5,0,"axios"],[25,11,5,0],[25,14,5,0,"_interopDefault"],[25,29,5,0],[25,30,5,0,"_axios"],[25,36,5,0],[26,2,6,0],[26,6,6,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,6,0],[26,45,6,0,"require"],[26,52,6,0],[26,53,6,0,"_dependencyMap"],[26,67,6,0],[27,2,6,0],[27,6,6,0,"AsyncStorage"],[27,18,6,0],[27,21,6,0,"_interopDefault"],[27,36,6,0],[27,37,6,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,6,0],[28,2,1,0],[29,2,2,0],[30,2,3,0],[32,2,9,0],[32,8,9,6,"API_BASE_URL"],[32,20,9,18],[32,23,9,21,"process"],[32,30,9,28],[32,31,9,29,"env"],[32,34,9,32],[32,35,9,33,"EXPO_PUBLIC_BACKEND_URL"],[32,58,9,56],[32,62,9,60],[32,85,9,83],[33,2,11,0],[33,8,11,6,"ApiClient"],[33,17,11,15],[33,18,11,16],[34,4,13,10,"isOffline"],[34,13,13,19],[34,16,13,31],[34,21,13,36],[35,4,15,2,"constructor"],[35,15,15,13,"constructor"],[35,16,15,13],[35,18,15,16],[36,6,16,4],[36,10,16,8],[36,11,16,9,"client"],[36,17,16,15],[36,20,16,18,"axios"],[36,25,16,23],[36,26,16,23,"default"],[36,33,16,23],[36,34,16,24,"create"],[36,40,16,30],[36,41,16,31],[37,8,17,6,"baseURL"],[37,15,17,13],[37,17,17,15],[37,20,17,18,"API_BASE_URL"],[37,32,17,30],[37,38,17,36],[38,8,18,6,"timeout"],[38,15,18,13],[38,17,18,15],[38,22,18,20],[39,8,19,6,"headers"],[39,15,19,13],[39,17,19,15],[40,10,20,8],[40,24,20,22],[40,26,20,24],[41,8,21,6],[42,6,22,4],[42,7,22,5],[42,8,22,6],[43,6,24,4],[43,10,24,8],[43,11,24,9,"setupInterceptors"],[43,28,24,26],[43,29,24,27],[43,30,24,28],[44,4,25,2],[45,4,27,10,"setupInterceptors"],[45,21,27,27,"setupInterceptors"],[45,22,27,27],[45,24,27,30],[46,6,28,4],[47,6,29,4],[47,10,29,8],[47,11,29,9,"client"],[47,17,29,15],[47,18,29,16,"interceptors"],[47,30,29,28],[47,31,29,29,"request"],[47,38,29,36],[47,39,29,37,"use"],[47,42,29,40],[47,43,30,6],[47,49,30,13,"config"],[47,55,30,47],[47,59,30,52],[48,8,31,8],[48,12,31,12],[48,16,31,16],[48,17,31,17,"isOffline"],[48,26,31,26],[48,28,31,28],[49,10,32,10],[49,16,32,16],[49,20,32,20,"Error"],[49,25,32,25],[49,26,32,26],[49,35,32,35],[49,36,32,36],[50,8,33,8],[51,8,35,8],[51,14,35,14,"token"],[51,19,35,19],[51,22,35,22],[51,28,35,28,"AsyncStorage"],[51,40,35,40],[51,41,35,40,"default"],[51,48,35,40],[51,49,35,41,"getItem"],[51,56,35,48],[51,57,35,49],[51,76,35,68],[51,77,35,69],[52,8,36,8],[52,12,36,12,"token"],[52,17,36,17],[52,19,36,19],[53,10,37,10],[53,14,37,14],[54,12,38,12],[54,18,38,18,"parsed"],[54,24,38,24],[54,27,38,27,"JSON"],[54,31,38,31],[54,32,38,32,"parse"],[54,37,38,37],[54,38,38,38,"token"],[54,43,38,43],[54,44,38,44],[55,12,39,12],[55,16,39,16,"parsed"],[55,22,39,22],[55,23,39,23,"state"],[55,28,39,28],[55,30,39,30,"token"],[55,35,39,35],[55,37,39,37],[56,14,40,14,"config"],[56,20,40,20],[56,21,40,21,"headers"],[56,28,40,28],[56,29,40,29,"Authorization"],[56,42,40,42],[56,45,40,45],[56,55,40,55,"parsed"],[56,61,40,61],[56,62,40,62,"state"],[56,67,40,67],[56,68,40,68,"token"],[56,73,40,73],[56,75,40,75],[57,12,41,12],[58,10,42,10],[58,11,42,11],[58,12,42,12],[58,19,42,19,"e"],[58,20,42,20],[58,22,42,22],[59,12,43,12],[60,10,43,12],[61,8,45,8],[62,8,46,8],[62,15,46,15,"config"],[62,21,46,21],[63,6,47,6],[63,7,47,7],[63,9,48,7,"error"],[63,14,48,12],[63,18,48,17,"Promise"],[63,25,48,24],[63,26,48,25,"reject"],[63,32,48,31],[63,33,48,32,"error"],[63,38,48,37],[63,39,49,4],[63,40,49,5],[65,6,51,4],[66,6,52,4],[66,10,52,8],[66,11,52,9,"client"],[66,17,52,15],[66,18,52,16,"interceptors"],[66,30,52,28],[66,31,52,29,"response"],[66,39,52,37],[66,40,52,38,"use"],[66,43,52,41],[66,44,53,7,"response"],[66,52,53,15],[66,56,53,20,"response"],[66,64,53,28],[66,66,54,7,"error"],[66,71,54,34],[66,75,54,39],[67,8,55,8],[67,12,55,12,"error"],[67,17,55,17],[67,18,55,18,"message"],[67,25,55,25],[67,30,55,30],[67,39,55,39],[67,41,55,41],[68,10,56,10],[68,17,56,17,"Promise"],[68,24,56,24],[68,25,56,25,"reject"],[68,31,56,31],[68,32,56,32],[69,12,57,12,"code"],[69,16,57,16],[69,18,57,18],[69,27,57,27],[70,12,58,12,"message"],[70,19,58,19],[70,21,58,21],[71,10,59,10],[71,11,59,11],[71,12,59,12],[72,8,60,8],[73,8,62,8],[73,12,62,12],[73,13,62,13,"error"],[73,18,62,18],[73,19,62,19,"response"],[73,27,62,27],[73,29,62,29],[74,10,63,10],[74,17,63,17,"Promise"],[74,24,63,24],[74,25,63,25,"reject"],[74,31,63,31],[74,32,63,32],[75,12,64,12,"code"],[75,16,64,16],[75,18,64,18],[75,33,64,33],[76,12,65,12,"message"],[76,19,65,19],[76,21,65,21],[77,10,66,10],[77,11,66,11],[77,12,66,12],[78,8,67,8],[79,8,69,8],[79,14,69,14],[80,10,69,16,"status"],[80,16,69,22],[81,10,69,24,"data"],[82,8,69,29],[82,9,69,30],[82,12,69,33,"error"],[82,17,69,38],[82,18,69,39,"response"],[82,26,69,47],[83,8,71,8],[83,12,71,12,"status"],[83,18,71,18],[83,23,71,23],[83,26,71,26],[83,28,71,28],[84,10,72,10],[85,10,73,10],[85,17,73,17,"Promise"],[85,24,73,24],[85,25,73,25,"reject"],[85,31,73,31],[85,32,73,32],[86,12,74,12,"code"],[86,16,74,16],[86,18,74,18],[86,32,74,32],[87,12,75,12,"message"],[87,19,75,19],[87,21,75,21],[88,10,76,10],[88,11,76,11],[88,12,76,12],[89,8,77,8],[90,8,79,8],[90,15,79,15,"Promise"],[90,22,79,22],[90,23,79,23,"reject"],[90,29,79,29],[90,30,79,30,"data"],[90,34,79,34],[90,38,79,38],[91,10,80,10,"code"],[91,14,80,14],[91,16,80,16],[91,30,80,30],[92,10,81,10,"message"],[92,17,81,17],[92,19,81,19],[93,8,82,8],[93,9,82,9],[93,10,82,10],[94,6,83,6],[94,7,84,4],[94,8,84,5],[95,4,85,2],[96,4,87,2,"setOfflineMode"],[96,18,87,16,"setOfflineMode"],[96,19,87,17,"offline"],[96,26,87,33],[96,28,87,35],[97,6,88,4],[97,10,88,8],[97,11,88,9,"isOffline"],[97,20,88,18],[97,23,88,21,"offline"],[97,30,88,28],[98,4,89,2],[99,4,91,2],[99,10,91,8,"get"],[99,13,91,11,"get"],[99,14,91,15,"url"],[99,17,91,26],[99,19,91,28,"params"],[99,25,91,60],[99,27,91,87],[100,6,92,4],[100,12,92,10,"response"],[100,20,92,18],[100,23,92,21],[100,29,92,27],[100,33,92,31],[100,34,92,32,"client"],[100,40,92,38],[100,41,92,39,"get"],[100,44,92,42],[100,45,92,46,"url"],[100,48,92,49],[100,50,92,51],[101,8,92,53,"params"],[102,6,92,60],[102,7,92,61],[102,8,92,62],[103,6,93,4],[103,13,93,11],[104,8,93,13,"success"],[104,15,93,20],[104,17,93,22],[104,21,93,26],[105,8,93,28,"data"],[105,12,93,32],[105,14,93,34,"response"],[105,22,93,42],[105,23,93,43,"data"],[106,6,93,48],[106,7,93,49],[107,4,94,2],[108,4,96,2],[108,10,96,8,"post"],[108,14,96,12,"post"],[108,15,96,16,"url"],[108,18,96,27],[108,20,96,29,"data"],[108,24,96,43],[108,26,96,70],[109,6,97,4],[109,12,97,10,"response"],[109,20,97,18],[109,23,97,21],[109,29,97,27],[109,33,97,31],[109,34,97,32,"client"],[109,40,97,38],[109,41,97,39,"post"],[109,45,97,43],[109,46,97,47,"url"],[109,49,97,50],[109,51,97,52,"data"],[109,55,97,56],[109,56,97,57],[110,6,98,4],[110,13,98,11],[111,8,98,13,"success"],[111,15,98,20],[111,17,98,22],[111,21,98,26],[112,8,98,28,"data"],[112,12,98,32],[112,14,98,34,"response"],[112,22,98,42],[112,23,98,43,"data"],[113,6,98,48],[113,7,98,49],[114,4,99,2],[115,4,101,2],[115,10,101,8,"put"],[115,13,101,11,"put"],[115,14,101,15,"url"],[115,17,101,26],[115,19,101,28,"data"],[115,23,101,42],[115,25,101,69],[116,6,102,4],[116,12,102,10,"response"],[116,20,102,18],[116,23,102,21],[116,29,102,27],[116,33,102,31],[116,34,102,32,"client"],[116,40,102,38],[116,41,102,39,"put"],[116,44,102,42],[116,45,102,46,"url"],[116,48,102,49],[116,50,102,51,"data"],[116,54,102,55],[116,55,102,56],[117,6,103,4],[117,13,103,11],[118,8,103,13,"success"],[118,15,103,20],[118,17,103,22],[118,21,103,26],[119,8,103,28,"data"],[119,12,103,32],[119,14,103,34,"response"],[119,22,103,42],[119,23,103,43,"data"],[120,6,103,48],[120,7,103,49],[121,4,104,2],[122,4,106,2],[122,10,106,8,"delete"],[122,16,106,14,"delete"],[122,17,106,18,"url"],[122,20,106,29],[122,22,106,56],[123,6,107,4],[123,12,107,10,"response"],[123,20,107,18],[123,23,107,21],[123,29,107,27],[123,33,107,31],[123,34,107,32,"client"],[123,40,107,38],[123,41,107,39,"delete"],[123,47,107,45],[123,48,107,49,"url"],[123,51,107,52],[123,52,107,53],[124,6,108,4],[124,13,108,11],[125,8,108,13,"success"],[125,15,108,20],[125,17,108,22],[125,21,108,26],[126,8,108,28,"data"],[126,12,108,32],[126,14,108,34,"response"],[126,22,108,42],[126,23,108,43,"data"],[127,6,108,48],[127,7,108,49],[128,4,109,2],[129,2,110,0],[130,2,112,7],[130,8,112,13,"apiClient"],[130,17,112,22],[130,20,112,25],[130,24,112,29,"ApiClient"],[130,33,112,38],[130,34,112,39],[130,35,112,40],[131,2,113,0],[131,6,113,0,"_default"],[131,14,113,0],[131,17,113,15,"apiClient"],[131,26,113,24],[132,0,113,25],[132,3]],"functionMap":{"names":["<global>","ApiClient","ApiClient#constructor","ApiClient#setupInterceptors","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","ApiClient#setOfflineMode","ApiClient#get","ApiClient#post","ApiClient#put","ApiClient#_delete"],"mappings":"AAA;ACU;ECI;GDU;EEE;MCG;ODiB;MEC,gCF;MGK,sBH;MIC;OJ6B;GFE;EOE;GPE;EQE;GRG;ESE;GTG;EUE;GVG;EWE;GXG;CDC"},"hasCjsExports":false},"type":"js/module"}]}